<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>My Parking Sofia</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="map"></div>

    <div id="login-screen" class="screen active">
        <div class="glass-card">
            <h1>My Parking</h1>
            <p>–î–æ–±—Ä–µ –¥–æ—à–ª–∏ –≤ –°–æ—Ñ–∏—è</p>
            <div class="input-group">
                <input type="email" id="authEmail" placeholder="–ò–º–µ–π–ª">
                <input type="password" id="authPass" placeholder="–ü–∞—Ä–æ–ª–∞">
            </div>
            <button class="btn-primary" onclick="window.handleAuth()">–í–õ–ï–ó</button>
            <button class="btn-secondary" onclick="window.handleRegister()">–†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø</button>
            <p class="guest-link" onclick="window.loginAsGuest()">–ü—Ä–æ–¥—ä–ª–∂–∏ –∫–∞—Ç–æ –≥–æ—Å—Ç</p>
        </div>
    </div>

    <div id="register-screen" class="screen">
        <div class="glass-card">
            <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
            <div class="input-group">
                <input type="text" placeholder="–ò–º–µ –∏ –§–∞–º–∏–ª–∏—è">
                <input type="email" placeholder="–ò–º–µ–π–ª">
                <input type="password" placeholder="–ü–∞—Ä–æ–ª–∞">
            </div>
            <button class="btn-primary" onclick="window.closeRegister()">–°–™–ó–î–ê–ô –ü–†–û–§–ò–õ</button>
            <button class="btn-secondary" onclick="window.closeRegister()">–û–¢–ö–ê–ó</button>
        </div>
    </div>

    <div id="profile-screen" class="screen">
        <div class="glass-card full-height">
            <h3>üë§ –ú–æ—è—Ç –ü—Ä–æ—Ñ–∏–ª</h3>
            <div class="section">
                <h4>–ú–æ–∏—Ç–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏</h4>
                <div id="cars-list">
                    </div>
                <button class="btn-add" onclick="window.addNewCarField()">+ –î–æ–±–∞–≤–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª</button>
            </div>
            <button class="btn-secondary" onclick="window.sendLenderRequest()">–°—Ç–∞–Ω–∏ Lender</button>
        </div>
    </div>

    <div id="settings-screen" class="screen">
        <div class="glass-card">
            <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
            <button class="btn-outline" onclick="window.toggleDarkMode()">üåì –°–º–µ–Ω–∏ –¢–µ–º–∞—Ç–∞</button>
            <button class="btn-danger" onclick="window.logout()">–ò–ó–•–û–î</button>
        </div>
    </div>

    <div id="bookingSheet" class="bottom-sheet">
        <div class="sheet-handle" onclick="window.closeBookingSheet()"></div>
        <div class="sheet-content">
            <h2 id="gTitle">–ó–∞—Ä–µ–∂–¥–∞–Ω–µ...</h2>
            <p id="gAddress">–ê–¥—Ä–µ—Å...</p>
            <div class="booking-controls">
                <div class="hours-picker">
                    <button onclick="window.changeH(-1)">‚àí</button>
                    <span id="hLabel">1—á</span>
                    <button onclick="window.changeH(1)">+</button>
                </div>
                <div class="price-tag">
                    <small>–û–±—â–æ:</small>
                    <span id="gPrice">0.00 –ª–≤.</span>
                </div>
            </div>
            <button class="btn-nav-main" onclick="window.showNavOptions()">üöó –ù–∞–≤–∏–≥–∞—Ü–∏—è</button>
            <div id="navOptions" class="nav-grid">
                <button onclick="window.openMap('google')">Google Maps</button>
                <button onclick="window.openMap('waze')">Waze</button>
            </div>
            <button class="btn-book-now" onclick="window.sendBookingRequest()">–†–ï–ó–ï–†–í–ò–†–ê–ô –°–ï–ì–ê</button>
        </div>
    </div>

    <nav class="bottom-nav">
        <div class="nav-item" onclick="window.nav('map')">üìç<span>–ö–∞—Ä—Ç–∞</span></div>
        <div class="nav-item" onclick="window.nav('profile')">üë§<span>–ü—Ä–æ—Ñ–∏–ª</span></div>
        <div class="nav-item" onclick="window.nav('settings')">‚öôÔ∏è<span>–û—â–µ</span></div>
    </nav>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>
